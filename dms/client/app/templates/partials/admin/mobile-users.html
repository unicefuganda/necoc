<div class="section">
    <ng-include ng-controller="AddUserController" src="'/static/templates/partials/admin/users/user-modal.html'">
    </ng-include>
    <div class="profile-toast" growl></div>
    <div class="c-well">
        <div class="row with-btm-margin">
            <div class="col-md-3 sub-section-header">
                <span class="icon icon-contact-add"></span><span class="title">Users List</span>
            </div>
            <div class="user-actions pull-right">
                <form class="form-inline" role="form">
                    <div class="form-group">
                        <label class="sr-only" for="csvFile">CSV File:</label>
                        <input type="file" id="csvFile" placeholder="upload csv file" ng-model="csvFile" class="form-control" filelist-bind>
                    </div>
                    <div class="form-group">
                        <button type="button" id="create-user" class="btn btn-default btn-action btn-icon"
                                data-toggle="modal"
                                data-target="#mobile-user-modal">
                            <span class="icon icon-plus-circle"></span>
                            <span class="value">Add new user</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <table si-table="" class="table table-hover table-striped style-header table-clickable">
            <thead>
            <tr>
                <th><a href="" ng-click="toggleAndrebuildList('name')">Name
                    <i ng-class="nameDesc ? 'glyphicon glyphicon-circle-arrow-up' : 'glyphicon glyphicon-circle-arrow-down'"></i></a>
                </th>
                <th>Phone</th>
                <th>Email</th>
                <th ng-click="toggleAndrebuildList('location')">Location
                    <i ng-class="locationDesc ? 'glyphicon glyphicon-circle-arrow-up' : 'glyphicon glyphicon-circle-arrow-down'"></i>
                </th>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="key in notSorted(users)" ng-init="user = users[key]" ng-click="showUserProfile(user)">
                <td>{[{ user.name }]}</td>
                <td>{[{ user.phone }]}</td>
                <td>{[{ user.email }]}</td>
                <td>{[{ [user.location.parent, user.location] | joinNames }]}</td>
            </tr>
            </tbody>

            <tfoot>
            <tr>
                <td colspan="5">
                    <si-table-pagination limit="15"/>
                </td>
            </tr>
            </tfoot>
        </table>

    </div>
</div>
